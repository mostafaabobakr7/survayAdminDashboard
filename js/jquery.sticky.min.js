"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(l){var e=Array.prototype.slice,i=Array.prototype.splice,c={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"inherit"},u=l(window),h=l(document),y=[],f=u.height(),t=function(){for(var t=u.scrollTop(),e=h.height(),n=e-f,i=n<t?n-t:0,r=0,o=y.length;r<o;r++){var s=y[r],c=s.stickyWrapper.offset().top-s.topSpacing-i;if(s.stickyWrapper.css("height",s.stickyElement.outerHeight()),t<=c)null!==s.currentTop&&(s.stickyElement.css({width:"",position:"",top:"","z-index":""}),s.stickyElement.parent().removeClass(s.className),s.stickyElement.trigger("sticky-end",[s]),s.currentTop=null);else{var p,a=e-s.stickyElement.outerHeight()-s.topSpacing-s.bottomSpacing-t-i;a<0?a+=s.topSpacing:a=s.topSpacing,s.currentTop!==a&&(s.getWidthFrom?(padding=s.stickyElement.innerWidth()-s.stickyElement.width(),p=l(s.getWidthFrom).width()-padding||null):s.widthFromWrapper&&(p=s.stickyWrapper.width()),null==p&&(p=s.stickyElement.width()),s.stickyElement.css("width",p).css("position","fixed").css("top",a).css("z-index",s.zIndex),s.stickyElement.parent().addClass(s.className),null===s.currentTop?s.stickyElement.trigger("sticky-start",[s]):s.stickyElement.trigger("sticky-update",[s]),s.currentTop===s.topSpacing&&s.currentTop>a||null===s.currentTop&&a<s.topSpacing?s.stickyElement.trigger("sticky-bottom-reached",[s]):null!==s.currentTop&&a===s.topSpacing&&s.currentTop<a&&s.stickyElement.trigger("sticky-bottom-unreached",[s]),s.currentTop=a);var d=s.stickyWrapper.parent();s.stickyElement.offset().top+s.stickyElement.outerHeight()>=d.offset().top+d.outerHeight()&&s.stickyElement.offset().top<=s.topSpacing?s.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):s.stickyElement.css("position","fixed").css("top",a).css("bottom","").css("z-index",s.zIndex)}}},n=function(){f=u.height();for(var t=0,e=y.length;t<e;t++){var n=y[t],i=null;n.getWidthFrom?n.responsiveWidth&&(i=l(n.getWidthFrom).width()):n.widthFromWrapper&&(i=n.stickyWrapper.width()),null!=i&&n.stickyElement.css("width",i)}},p={init:function(s){return this.each(function(){var t=l.extend({},c,s),e=l(this),n=e.attr("id"),i=n?n+"-"+c.wrapperClassName:c.wrapperClassName,r=l("<div></div>").attr("id",i).addClass(t.wrapperClassName);e.wrapAll(function(){if(0==l(this).parent("#"+i).length)return r});var o=e.parent();t.center&&o.css({width:e.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===e.css("float")&&e.css({float:"none"}).parent().css({float:"right"}),t.stickyElement=e,t.stickyWrapper=o,t.currentTop=null,y.push(t),p.setWrapperHeight(this),p.setupChangeListeners(this)})},setWrapperHeight:function(t){var e=l(t),n=e.parent();n&&n.css("height",e.outerHeight())},setupChangeListeners:function(e){window.MutationObserver?new window.MutationObserver(function(t){(t[0].addedNodes.length||t[0].removedNodes.length)&&p.setWrapperHeight(e)}).observe(e,{subtree:!0,childList:!0}):window.addEventListener?(e.addEventListener("DOMNodeInserted",function(){p.setWrapperHeight(e)},!1),e.addEventListener("DOMNodeRemoved",function(){p.setWrapperHeight(e)},!1)):window.attachEvent&&(e.attachEvent("onDOMNodeInserted",function(){p.setWrapperHeight(e)}),e.attachEvent("onDOMNodeRemoved",function(){p.setWrapperHeight(e)}))},update:t,unstick:function(t){return this.each(function(){for(var t=l(this),e=-1,n=y.length;0<n--;)y[n].stickyElement.get(0)===this&&(i.call(y,n,1),e=n);-1!==e&&(t.unwrap(),t.css({width:"",position:"",top:"",float:"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",t,!1),window.addEventListener("resize",n,!1)):window.attachEvent&&(window.attachEvent("onscroll",t),window.attachEvent("onresize",n)),l.fn.sticky=function(t){return p[t]?p[t].apply(this,e.call(arguments,1)):"object"!=_typeof(t)&&t?void l.error("Method "+t+" does not exist on jQuery.sticky"):p.init.apply(this,arguments)},l.fn.unstick=function(t){return p[t]?p[t].apply(this,e.call(arguments,1)):"object"!=_typeof(t)&&t?void l.error("Method "+t+" does not exist on jQuery.sticky"):p.unstick.apply(this,arguments)},l(function(){setTimeout(t,0)})});